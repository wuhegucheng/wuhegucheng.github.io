{
    "version": "https://jsonfeed.org/version/1",
    "title": "今天也请继续加油 • All posts by \"bash\" tag",
    "description": "",
    "home_page_url": "http://wuhegucheng.github.io",
    "items": [
        {
            "id": "http://wuhegucheng.github.io/2023/04/01/linux/base/03.Bash%20Shell/02.Bash%E7%89%B9%E6%80%A7/",
            "url": "http://wuhegucheng.github.io/2023/04/01/linux/base/03.Bash%20Shell/02.Bash%E7%89%B9%E6%80%A7/",
            "title": "Bash特性",
            "date_published": "2023-04-01T08:46:15.000Z",
            "content_html": "<h1 id=\"bash特性\"><a class=\"markdownIt-Anchor\" href=\"#bash特性\">#</a> Bash 特性</h1>\n<h2 id=\"基础语法\"><a class=\"markdownIt-Anchor\" href=\"#基础语法\">#</a> 基础语法</h2>\n<p>在语法中，中括号是可有可无的意思</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">命令</th>\n<th style=\"text-align:center\">选项</th>\n<th style=\"text-align:center\">参数</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">command</td>\n<td style=\"text-align:center\">[options]</td>\n<td style=\"text-align:center\">[arguments]</td>\n</tr>\n</tbody>\n</table>\n<p>查看目录 <code>ls</code></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">选项</th>\n<th style=\"text-align:center\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">-l</td>\n<td style=\"text-align:center\">长格式显示详细信息</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-a</td>\n<td style=\"text-align:center\">显示所有文件，包括隐藏文件</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-d</td>\n<td style=\"text-align:center\">当遇到目录时列出目录本身而非目录内的文件</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-h</td>\n<td style=\"text-align:center\">显示文件大小，KB</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-i</td>\n<td style=\"text-align:center\">查看该文件的 inode 号</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-F</td>\n<td style=\"text-align:center\">在条目中追加指示符’/’</td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#语法</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">ls</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>文件名<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">#示例</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># ls               // 命令</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># ls -l            // 命令 + 选项</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># ls -l /home/     // 命令 + 选项 + 参数</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">#命令：整条 shell 命令的主体</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">#选项：用于调节命令的具体功能</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t- 以<span class=\"token string\">'-'</span>引导段个事选项（单个字符），例如”-a“</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t- 以<span class=\"token string\">'--'</span>引导长格式选项（多个字符），例如”--all“</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t- 多个短格式选项可以卸载一起，只用一个”-“引导，例如”-la“</pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">#参数：命令操作的对象，如文件、目录名等</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>ps:命令必须开头，选项和参数位置可以发生变化</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>   命令、选项、参数需要有空格隔开</pre></td></tr></table></figure><h2 id=\"命令补全\"><a class=\"markdownIt-Anchor\" href=\"#命令补全\">#</a> 命令补全</h2>\n<p>当使用 windows 查找一个目录层级特别多的文件时，打开的效率会非常的慢，但如果使用 linux 查找一个目录层级特别多的文件时，可以通过 tab 键快速补全</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#查看本机 IP，忘记了具体命令</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># ifc</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>ifcfg     ifconfig</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">#按下 tab 键会自动补全</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># ifconfig</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre> </pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">#按一下 tab 没有反应，那么需要按两下 tab 键，列出所有 if 开头的命令</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># if</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">if</span>         ifcfg      ifconfig   ifdown     ifenslave  ifnames    ifrename   iftop     ifup</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> </pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">#Linux 目录比较深，经常会使用 tab 键进行补全，如果路径出错是没有办法补全的</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># ls /etc/sysconfig/network-scripts/ifcfg-eth0</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>sysconfig<span class=\"token operator\">/</span>network<span class=\"token operator\">-</span>scripts<span class=\"token operator\">/</span>ifcfg<span class=\"token operator\">-</span>eth0</pre></td></tr></table></figure><p>如果无法补全选项，那么需要安装一个扩展包</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># yum install -y bash-completion</span></pre></td></tr></table></figure><h2 id=\"帮助文档\"><a class=\"markdownIt-Anchor\" href=\"#帮助文档\">#</a> 帮助文档</h2>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#获取 ls 命令的帮助</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># ls --help</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>用法：ls <span class=\"token punctuation\">[</span>选项<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">[</span>文件<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># man ls</span></pre></td></tr></table></figure><p><a href=\"http://linux.51yip.com/\"><strong>Linux 命令手册</strong></a></p>\n<h2 id=\"命令快捷键\"><a class=\"markdownIt-Anchor\" href=\"#命令快捷键\">#</a> 命令快捷键</h2>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>Ctrl <span class=\"token operator\">+</span> a    <span class=\"token comment\">#光标跳转至正在输入的命令行的首部</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Ctrl <span class=\"token operator\">+</span> e    <span class=\"token comment\">#光标跳转至正在输入的命令行的尾部</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Ctrl <span class=\"token operator\">+</span> w    <span class=\"token comment\">#按照空格来删除 bash 内容</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Ctrl <span class=\"token operator\">+</span> c    <span class=\"token comment\">#终止前台运行的程序</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Ctrl <span class=\"token operator\">+</span> d    <span class=\"token comment\">#在 shell 中，ctrl-d 表示退出当前 shell。（logout、exit）</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>Ctrl <span class=\"token operator\">+</span> z    <span class=\"token comment\">#将任务暂停，挂至后台</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Ctrl <span class=\"token operator\">+</span> l    <span class=\"token comment\">#清屏，和 clear 命令等效。</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>Ctrl <span class=\"token operator\">+</span> k    <span class=\"token comment\">#删除从光标到行末的所有字符</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Ctrl <span class=\"token operator\">+</span> u    <span class=\"token comment\">#删除从光标到行首的所有字符</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Ctrl <span class=\"token operator\">+</span> r    <span class=\"token comment\">#搜索历史命令，利用关键字</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Ctrl <span class=\"token operator\">+</span> 左右  <span class=\"token comment\">#按照单词快速跳转光标（Xshell 提供的）</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>ESC  <span class=\"token operator\">+</span> <span class=\"token punctuation\">.</span>    <span class=\"token comment\">#获取最后的指令</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>ps<span class=\"token punctuation\">:</span>在命令行前加面加 <span class=\"token string\">\"#\"</span> 则该命令不会被执行</pre></td></tr></table></figure><h2 id=\"历史命令\"><a class=\"markdownIt-Anchor\" href=\"#历史命令\">#</a> 历史命令</h2>\n<p>历史命令的作用：追溯之前的发生情况，在企业中，十分重要，涉及到运维的责任，记录历史命令对于运维人员来说，也有一个专业名词：审计</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>history </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">-</span>c：clear 清除历史命令 </pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">-</span>d：delete 删除指定编号的历史命令 </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token operator\">-</span>w：write 保存历史命令到一个文件中（将历史命令保存到家目录下的<span class=\"token punctuation\">.</span>bash_history 隐藏文件中）</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">#查看最后 10 条历史记录</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># history 10</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre> </pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">#清空历史记录</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># history -c</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre> </pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">#指定一条历史记录删除</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># history -d 110</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre> </pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\">#保存历史命令</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># history -w</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre> </pre></td></tr><tr><td data-num=\"18\"></td><td><pre>!<span class=\"token operator\">+</span>命令的一部分：执行上一条，含有该命令一部分的命令内容 （常用） </pre></td></tr><tr><td data-num=\"19\"></td><td><pre>!!：执行上一条命令 </pre></td></tr><tr><td data-num=\"20\"></td><td><pre>!<span class=\"token operator\">+</span>数字：执行历史命令中编号所在命令内容</pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">#执行上一条命令</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># !!</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre> </pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\">#执行上一条 ls 相关命令</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># !ls</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>ls <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>sysconfig<span class=\"token operator\">/</span>network<span class=\"token operator\">-</span>scripts<span class=\"token operator\">/</span>ifcfg<span class=\"token operator\">-</span>eth0</pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>sysconfig<span class=\"token operator\">/</span>network<span class=\"token operator\">-</span>scripts<span class=\"token operator\">/</span>ifcfg<span class=\"token operator\">-</span>eth0</pre></td></tr><tr><td data-num=\"29\"></td><td><pre> </pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token comment\">#执行历史命令中的第 74 条命令</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token punctuation\">[</span>root@db04 <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># !74</span></pre></td></tr></table></figure><h2 id=\"命令的别名\"><a class=\"markdownIt-Anchor\" href=\"#命令的别名\">#</a> 命令的别名</h2>\n<p>命令别名将用户经常使用的复杂命令简单化，创建属于自己的命令别名</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#设置别名 </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>alias 别名<span class=\"token operator\">=</span><span class=\"token string\">\"完整的命令\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">[</span>root@web <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># alias wk='ifconfig'</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">[</span>root@web <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># wk</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">#取消别名 </span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>unalias 别名</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">[</span>root@web <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># unalias ifconfig</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">#永久生效 /etc/bashrc</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">[</span>root@web <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span><span class=\"token comment\"># echo \"alias ifconfig='ifconfig eth0'\" >> /etc/bashrc</span></pre></td></tr></table></figure><h2 id=\"与\"><a class=\"markdownIt-Anchor\" href=\"#与\">#</a> ’ ' 与 &quot; &quot;</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token string\">' '</span>：所见即所得</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token string\">\" \"</span>：涉及变量</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">[</span>root@client ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># name='roger'</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">[</span>root@client ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># echo '$name'</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token variable\">$name</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">[</span>root@client ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># echo \"$name\"</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>roger</pre></td></tr></table></figure>",
            "tags": [
                "Bash",
                "命令快捷键"
            ]
        },
        {
            "id": "http://wuhegucheng.github.io/2023/04/01/linux/base/03.Bash%20Shell/01.Bash%E5%88%9D%E5%A7%8B/",
            "url": "http://wuhegucheng.github.io/2023/04/01/linux/base/03.Bash%20Shell/01.Bash%E5%88%9D%E5%A7%8B/",
            "title": "Bash Shell",
            "date_published": "2023-04-01T08:46:15.000Z",
            "content_html": "<h1 id=\"bash-shell\"><a class=\"markdownIt-Anchor\" href=\"#bash-shell\">#</a> Bash Shell</h1>\n<p><code>Bash Shell</code>  是 Linux 的命令解释器，主要复杂用户程序与内核系统进行交互操作的一种接口，将用户输入的命令翻译给内核，由内核驱动硬件，最终将处理后的结果输出值 <code>Bash Shell</code>  屏幕中终端</p>\n<p><img data-src=\"https://roger-hub.oss-cn-shanghai.aliyuncs.com/img_sre/image-20220320213559585.png\" alt=\"image-20220320213559585\"></p>\n<h2 id=\"bash的作用\"><a class=\"markdownIt-Anchor\" href=\"#bash的作用\">#</a> Bash 的作用</h2>\n<p>1）文件管理</p>\n<p>2）权限管理</p>\n<p>3）用户管理</p>\n<p>4）磁盘管理</p>\n<p>5）网络管理</p>\n<p>6）软件管理</p>\n<p>7）应用管理</p>\n<h2 id=\"如何使用bash\"><a class=\"markdownIt-Anchor\" href=\"#如何使用bash\">#</a> 如何使用 bash</h2>\n<ul>\n<li>执行命令\n<ul>\n<li>效率低，适合平时简单的工作</li>\n</ul>\n</li>\n<li>执行脚本\n<ul>\n<li>效率高，适合比较复杂繁琐的工作</li>\n</ul>\n</li>\n</ul>\n<p>创建 100 个用户，单纯输入命令需要 100 次，而使用 shell 脚本则可以轻松解决</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@web\t~<span class=\"token punctuation\">]</span><span class=\"token comment\">#\tcat\tuseradd.sh</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">#!/usr/bin/bash</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">#批量创建脚本</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">i</span> <span class=\"token keyword\">in</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span><span class=\"token punctuation\">..</span><span class=\"token number\">100</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">do</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token function\">useradd</span>\talice-<span class=\"token variable\">$i</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"alice-<span class=\"token variable\">$i</span>\"</span>\tis\tcreate\tok<span class=\"token punctuation\">..</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">done</span></pre></td></tr></table></figure><h2 id=\"命令提示符\"><a class=\"markdownIt-Anchor\" href=\"#命令提示符\">#</a> 命令提示符</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@huanglong ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>：没有任何作用，只是为了分割 </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>root：当前登录系统的用户 </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>@：没有任何作用，为了分割用户和主机名 </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>localhost：当前短格式的主机名 </pre></td></tr><tr><td data-num=\"6\"></td><td><pre>~：当前所在的工作目录 </pre></td></tr><tr><td data-num=\"7\"></td><td><pre>~特殊意义：任何系统的用户，都有自己的家目录，当前登录用户的家目录 </pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>超级管理员用户的家目录是：/root </pre></td></tr><tr><td data-num=\"10\"></td><td><pre>普通用户的家目录是：/home/用户名 </pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">#：超级管理员的提示符</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>$：普通用户的提示符</pre></td></tr></table></figure><p><img data-src=\"https://roger-hub.oss-cn-shanghai.aliyuncs.com/img_sre/image-20220320213853972.png\" alt=\"image-20220320213853972\"></p>\n<p>PS1 的常用参数以及含义</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">\\</span>d ：代表日期，格式为weekday month date，例如：<span class=\"token string\">\"Mon Aug 1\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">\\</span>H ：完整的主机名称</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">\\</span>h ：仅取主机名中的第一个名字</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">\\</span>t ：显示时间为24小时格式，如：HH：MM：SS</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">\\</span>T ：显示时间为12小时格式</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">\\</span>A ：显示时间为24小时格式：HH：MM</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">\\</span>u ：当前用户的账号名称</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">\\</span>v ：<span class=\"token environment constant\">BASH</span>的版本信息</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">\\</span>w ：完整的工作目录名称</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">\\</span>W ：利用basename取得工作目录名称，只显示最后一个目录名</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">\\</span># ：下达的第几个命令</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">\\</span>$ ：提示字符，如果是root用户，提示符为 <span class=\"token comment\"># ，普通用户则为 $</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>　　</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">#颜色</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>字体/背景</pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token number\">30</span>  <span class=\"token number\">40</span> 黑色</pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token number\">31</span>  <span class=\"token number\">41</span> 红色</pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token number\">32</span>  <span class=\"token number\">42</span> 绿色</pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token number\">33</span>  <span class=\"token number\">43</span> 黄色</pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token number\">34</span>  <span class=\"token number\">44</span> 蓝色</pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token number\">35</span>  <span class=\"token number\">45</span> 紫红色</pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token number\">36</span>  <span class=\"token number\">46</span> 青蓝色</pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token number\">37</span>  <span class=\"token number\">47</span> 白色</pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\">#修改配置文件.bashrc</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token assign-left variable\"><span class=\"token environment constant\">PS1</span></span><span class=\"token operator\">=</span><span class=\"token string\">\"\\[<span class=\"token entity\" title=\"\\e\">\\e</span>[37;40m\\][\\[<span class=\"token entity\" title=\"\\e\">\\e</span>[32;40m\\]\\u\\[<span class=\"token entity\" title=\"\\e\">\\e</span>[37;40m\\]@\\[<span class=\"token entity\" title=\"\\e\">\\e</span>[35;40m\\]\\h\\[<span class=\"token entity\" title=\"\\e\">\\e</span>[0m\\] \\ [<span class=\"token entity\" title=\"\\e\">\\e</span>[36;40m\\]\\w\\[<span class=\"token entity\" title=\"\\e\">\\e</span>[0m\\]]<span class=\"token entity\" title=\"\\\\\">\\\\</span>$ \"</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token comment\">#修改主机名的命令 </span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>hostnamectl set-hostname 主机名</pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token function\">vim</span> /etc/profiel.d/<span class=\"token environment constant\">PS1</span>.sh</pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token function-name function\">_set_prompt</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token assign-left variable\">_last_exit_code</span><span class=\"token operator\">=</span><span class=\"token variable\">$?</span> <span class=\"token comment\"># Must come first!</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token assign-left variable\">C_EC</span><span class=\"token operator\">=</span><span class=\"token string\">'\\[\\e[1;37m\\]'</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">printf</span> <span class=\"token string\">'%3s'</span> $<span class=\"token punctuation\">&#123;</span>_last_exit_code<span class=\"token punctuation\">&#125;</span><span class=\"token variable\">)</span></span><span class=\"token string\">'\\[\\e[0m\\]'</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre> </pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token comment\">#todo: set encoding to UTF-8 !</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token assign-left variable\">FancyX</span><span class=\"token operator\">=</span><span class=\"token string\">'\\342\\234\\227'</span>      <span class=\"token comment\"># ✗ ✘</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token assign-left variable\">Checkmark</span><span class=\"token operator\">=</span><span class=\"token string\">'\\342\\234\\223'</span>   <span class=\"token comment\"># ✓ ✔</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token assign-left variable\">C_Fail</span><span class=\"token operator\">=</span><span class=\"token string\">'\\[\\e[1;31m\\]'</span><span class=\"token variable\">$&#123;FancyX&#125;</span><span class=\"token string\">'\\[\\e[0m\\]'</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token assign-left variable\">C_Ok</span><span class=\"token operator\">=</span><span class=\"token string\">'\\[\\e[32m\\]'</span><span class=\"token variable\">$&#123;Checkmark&#125;</span><span class=\"token string\">'\\[\\e[0m\\]'</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token assign-left variable\">C_Time</span><span class=\"token operator\">=</span><span class=\"token string\">'\\[\\e[2;37m\\]'</span>'<span class=\"token punctuation\">\\</span>t<span class=\"token string\">''</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span>0m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">'</pre></td></tr><tr><td data-num=\"42\"></td><td><pre> </pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        C_NormalUser='</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span>33m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">''</span><span class=\"token punctuation\">\\</span>u<span class=\"token string\">''</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span>0m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">'</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        C_RootUser='</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>35m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">''</span><span class=\"token punctuation\">\\</span>u<span class=\"token string\">''</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span>0m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">'</pre></td></tr><tr><td data-num=\"45\"></td><td><pre> </pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        if [ $(uname -s) == \"Darwin\" ]; then</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>                _ip_addr=$(ipconfig getifaddr $(netstat -nr | awk '</span><span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$1</span> ~/default/<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> print <span class=\"token variable\">$6</span><span class=\"token punctuation\">&#125;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token string\">'))</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        elif [ $(uname -s) == \"Linux\" ]; then</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>                # may print $(NF-2)</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>                #_ip_addr=$(ip route | awk '</span>/ src / <span class=\"token punctuation\">&#123;</span>print <span class=\"token variable\">$NF</span><span class=\"token punctuation\">&#125;</span><span class=\"token string\">' | head -1 )</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>                _ip_addr=$(ip route | grep -oP '</span><span class=\"token punctuation\">(</span>?<span class=\"token operator\">&lt;=</span>src <span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span>-9.<span class=\"token punctuation\">]</span>+<span class=\"token string\">' | tail -1 )</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        fi</pre></td></tr><tr><td data-num=\"53\"></td><td><pre> </pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        C_Host='</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>33m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">'$(hostname -A | awk '</span><span class=\"token punctuation\">&#123;</span>print <span class=\"token variable\">$1</span><span class=\"token punctuation\">&#125;</span><span class=\"token string\">')'</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span>0m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">','</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">;</span>32m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">'$&#123;_ip_addr:-\\h&#125;'</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span>0m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">'</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        C_Pwd='</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span>36m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">''</span><span class=\"token punctuation\">\\</span>w<span class=\"token string\">''</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span>0m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">'</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        C_Marker='</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>37m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">''</span><span class=\"token punctuation\">\\</span><span class=\"token string\">$''</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span>0m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">'</pre></td></tr><tr><td data-num=\"57\"></td><td><pre> </pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        git diff --exit-code --quiet HEAD >/dev/null 2>&amp;1</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        _git_diff_exit_code=$?</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        if [ $&#123;_git_diff_exit_code&#125; -eq 1 ]; then</pre></td></tr><tr><td data-num=\"61\"></td><td><pre>                C_Marker='</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span>101m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">'*'</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span>0m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">'\" $&#123;C_Marker&#125;\"</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        elif [ $&#123;_git_diff_exit_code&#125; -eq 0 ]; then</pre></td></tr><tr><td data-num=\"63\"></td><td><pre>                C_Marker='</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span>102m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">'='</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">\\</span>e<span class=\"token punctuation\">[</span>0m<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">]</span><span class=\"token string\">'\" $&#123;C_Marker&#125;\"</pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        fi</pre></td></tr><tr><td data-num=\"65\"></td><td><pre> </pre></td></tr><tr><td data-num=\"66\"></td><td><pre> </pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        # Add a bright white exit status for the last command</pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        PS1=\"$C_EC \"</pre></td></tr><tr><td data-num=\"69\"></td><td><pre> </pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        # If it was successful, print a green check mark.</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        # Otherwise, print a red X.</pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        if [[ $&#123;_last_exit_code&#125; -eq 0 ]]; then</pre></td></tr><tr><td data-num=\"73\"></td><td><pre>                PS1+=\"$C_Ok \"</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        else</pre></td></tr><tr><td data-num=\"75\"></td><td><pre>                PS1+=\"$C_Fail \"</pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        fi</pre></td></tr><tr><td data-num=\"77\"></td><td><pre> </pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        # print HH:ii:ss</pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        PS1+=\"$C_Time \"</pre></td></tr><tr><td data-num=\"80\"></td><td><pre> </pre></td></tr><tr><td data-num=\"81\"></td><td><pre>        # If root, just print the host in red. Otherwise,</pre></td></tr><tr><td data-num=\"82\"></td><td><pre>        # print the current user and host in green.</pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        if [[ $EUID -eq 0 ]]; then</pre></td></tr><tr><td data-num=\"84\"></td><td><pre>                PS1+=\"$&#123;C_RootUser&#125;@$&#123;C_Host&#125;:\"</pre></td></tr><tr><td data-num=\"85\"></td><td><pre>        else</pre></td></tr><tr><td data-num=\"86\"></td><td><pre>                PS1+=\"$&#123;C_NormalUser&#125;@$&#123;C_Host&#125;:\"</pre></td></tr><tr><td data-num=\"87\"></td><td><pre>        fi</pre></td></tr><tr><td data-num=\"88\"></td><td><pre> </pre></td></tr><tr><td data-num=\"89\"></td><td><pre>        # Print the working directory and prompt marker</pre></td></tr><tr><td data-num=\"90\"></td><td><pre>        PS1+=\"$C_Pwd $C_Marker \"</pre></td></tr><tr><td data-num=\"91\"></td><td><pre>&#125;</pre></td></tr><tr><td data-num=\"92\"></td><td><pre>PROMPT_COMMAND='</span>_set_prompt'</pre></td></tr></table></figure>",
            "tags": [
                "Bash",
                "命令提示符"
            ]
        }
    ]
}