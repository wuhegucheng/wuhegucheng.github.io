<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://wuhegucheng.github.io</id>
    <title>今天也请继续加油 • Posts by &#34;01.环境准备&#34; category</title>
    <link href="http://wuhegucheng.github.io" />
    <updated>2023-04-01T08:46:15.000Z</updated>
    <category term="虚拟机" />
    <category term="markdown" />
    <category term="NFS" />
    <category term="rsync" />
    <category term="ssh" />
    <category term="http" />
    <entry>
        <id>http://wuhegucheng.github.io/2023/04/01/linux/lnmp%20build/01.%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87/01.%20%E6%9E%B6%E6%9E%84%E4%BB%8B%E7%BB%8D/</id>
        <title>111</title>
        <link rel="alternate" href="http://wuhegucheng.github.io/2023/04/01/linux/lnmp%20build/01.%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87/01.%20%E6%9E%B6%E6%9E%84%E4%BB%8B%E7%BB%8D/"/>
        <content type="html">&lt;h1 id=&#34;架构介绍&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#架构介绍&#34;&gt;#&lt;/a&gt; 架构介绍&lt;/h1&gt;
&lt;h2 id=&#34;架构相关名词&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#架构相关名词&#34;&gt;#&lt;/a&gt; 架构相关名词&lt;/h2&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;项目：独立的一个网站，或者独立的一个app应用 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;架构：用来维护或者运行一个项目的一组服务器 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;集群：为解决某个特定问题将多台计算机组合起来形成的单个系统（避免单点故障）&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;高可用：当一台服务器不可用，另一台服务器自动接管，保证业务不down机 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;负载均衡：将用户的请求，分摊到多个操作单元上执行,为了解决服务器压力不均衡的问题&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;架构演变&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#架构演变&#34;&gt;#&lt;/a&gt; 架构演变&lt;/h2&gt;
&lt;p&gt;&lt;img data-src=&#34;https://roger-hub.oss-cn-shanghai.aliyuncs.com/img_devops/image-20220512193446428.png&#34; alt=&#34;image-20220512193446428&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#用户请求，针对用户设计的架构 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;在浏览器中输入：https://blog.driverzeng.com &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1.DNS域名解析服务器 ==》将blog.driverzeng.com解析成IP地址：114.80.187.8 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2.浏览器和该IP地址（114.80.187.8）的服务器(https:// 443)端（http:// 80）口建立连接 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3.请求要经过114.80.187.8服务器的防火墙，如果允许你的IP（101.229.206.48）访问服务器的443端口 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- 防火墙：过滤用户请求，防止恶意请求，针对IP和端口进行限制 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- 关闭防火墙，关闭Selinux &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- CentOS6之前：iptables &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- CentOS7开始：firewalld，也可以使用iptables &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- 硬件防火墙 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4.请求通过防火墙后，访问到负载均衡服务器 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- Nginx &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- HAproxy &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- LVS &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- F5（硬件） &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5.请求通过负载均衡后会被下发到后面的web服务器 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- Nginx &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- Apache &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- Tomcat（Java） &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- PHP（PHP代码容器） &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6.前端代码会请求后端的代码，后端代码请求数据库 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- MySQL &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- Oracle &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- SQLServer &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- MariaDB &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7.数据库之前会有缓存服务器，如果缓存中有请求的数据，则直接通过缓存返回给用户 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- Redis &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- MangoDB &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- Memcache &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8.文件服务器（共享存储服务器）专门用来存储图片，视频，二进制类型的数据 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- NFS &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- GFS &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- FastDFS &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- ceph&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#运维自动化工具 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;所有服务器，至少要有两块网卡（有两个IP地址） &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;外网IP地址：针对用户访问，给用户提供服务 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;内网IP地址：服务器之间互相可以访问 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;跳板机，VPN：访问内网服务器 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- openvpn &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- pptpvpn &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- jumpserver &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;监控：检测服务器上的应用状态，硬件状态，网络状态，系统状态，业务状态 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- zabbix &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- nagios &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- open-falcon &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- promethues &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- cacti&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;数据备份服务器：用来备份所有重要数据 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- rsync 批量管理服务器 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- ansible &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- saltstack &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;日志服务器 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- ELK &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- flume &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;代码发布服务器 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- Jenkins &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;代码存储服务器 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	- Gitlab&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;架构模板机准备&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#架构模板机准备&#34;&gt;#&lt;/a&gt; 架构模板机准备&lt;/h2&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;71&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#编辑网卡名&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;win按Tab键/Mac按e键&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;quiet net.ifnames=0 biosdevname=0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#配置网卡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##编辑第一块网卡 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;vi /etc/sysconfig/network-scripts/ifcfg-eth0 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;删除UUID  &lt;span class=&#34;comment&#34;&gt;#mac地址&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;BOOTPROTO=dhcp =&amp;gt; BOOTPROTO=static 或者 BOOTPROTO=none &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ONBOOT=no =&amp;gt; ONBOOT=&lt;span class=&#34;built_in&#34;&gt;yes&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;IPADDR=10.0.0.100 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NETMASK=255.255.255.0 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;GATEWAY=10.0.0.2 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS1=223.5.5.5 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##编辑第二块网卡 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;vi /etc/sysconfig/network-scripts/ifcfg-eth1 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;删除UUID &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;BOOTPROTO=dhcp =&amp;gt; BOOTPROTO=static 或者 BOOTPROTO=none &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ONBOOT=no =&amp;gt; ONBOOT=&lt;span class=&#34;built_in&#34;&gt;yes&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;IPADDR=172.16.1.100 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NETMASK=255.255.255.0 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##重启网卡 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart network&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#系统优化&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#1.更改yum源 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##删除所有系统内置yum源&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@localhost ~]&lt;span class=&#34;comment&#34;&gt;# gzip /etc/yum.repos.d/*.repo&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;或&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@localhost ~]&lt;span class=&#34;comment&#34;&gt;# rm -fr /etc/yum.repos.d/* &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##Base源 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##Epel源 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;curl -o /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##优化阿里云的源（删除多余的baseurl） &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@localhost ~]&lt;span class=&#34;comment&#34;&gt;# vi /etc/yum.repos.d/CentOS-Base.repo&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#安装基础命令和环境 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;yum install net-tools vim tree htop iftop gcc gcc-c++ glibc iotop lrzsz sl wget unzip telnet nmap nc psmisc dos2unix bash-completion bash-completion-extra sysstat httpd-tools -y&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#关闭防火墙 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##关闭防火墙服务 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@localhost ~]&lt;span class=&#34;comment&#34;&gt;# systemctl stop firewalld &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##取消防火墙开机自启 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@localhost ~]&lt;span class=&#34;comment&#34;&gt;# systemctl disable firewalld&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#关闭selinux &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##查看selinux &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@localhost ~]&lt;span class=&#34;comment&#34;&gt;# getenforce &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Enforcing &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##开启状态 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##临时关闭 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@localhost ~]&lt;span class=&#34;comment&#34;&gt;# setenforce 0 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##永久关闭 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@localhost ~]&lt;span class=&#34;comment&#34;&gt;# vim /etc/sysconfig/selinux SELINUX=enfocing =&amp;gt; SELINUX=disabled&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#优化文件描述符 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##查看文件描述 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@localhost ~]&lt;span class=&#34;comment&#34;&gt;# ulimit -n 65535 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@localhost ~]&lt;span class=&#34;comment&#34;&gt;# ulimit -a &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##设置文件描述符为65535 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;* - nofile 65535&amp;#x27;&lt;/span&gt; &amp;gt;&amp;gt; /etc/security/limits.conf&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#修改主机脚本&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;read&lt;/span&gt; -p &lt;span class=&#34;string&#34;&gt;&amp;quot;Please input HOSTNAME：&amp;quot;&lt;/span&gt; h&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;read&lt;/span&gt; -p &lt;span class=&#34;string&#34;&gt;&amp;quot;Please input IP：&amp;quot;&lt;/span&gt; IP&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;hostnamectl set-hostname &lt;span class=&#34;variable&#34;&gt;$h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sed -i &lt;span class=&#34;string&#34;&gt;&amp;quot;s#100#&lt;span class=&#34;variable&#34;&gt;$IP&lt;/span&gt;#g&amp;quot;&lt;/span&gt; /etc/sysconfig/network-scripts/ifcfg-eth&amp;#123;0,1&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;机器准备&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#机器准备&#34;&gt;#&lt;/a&gt; 机器准备&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;外网 IP&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;内网 IP&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;主机名&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.0.0.5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;172.16.1.5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;lb01&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.0.0.6&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;172.16.1.6&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;lb02&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.0.0.7&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;172.16.1.7&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;web01&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.0.0.8&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;172.16.1.8&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;web02&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.0.0.9&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;172.16.1.9&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;web03&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.0.0.31&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;172.16.1.31&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;nfs&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.0.0.41&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;172.16.1.41&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;backup&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.0.0.51&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;172.16.1.51&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;db01&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.0.0.61&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;172.16.1.61&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;m01&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.0.0.71&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;172.16.1.71&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;zabbix&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</content>
        <updated>2023-04-01T08:46:15.000Z</updated>
    </entry>
</feed>
